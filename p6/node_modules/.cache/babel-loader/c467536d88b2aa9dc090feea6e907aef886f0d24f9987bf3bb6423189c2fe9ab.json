{"ast":null,"code":"var _jsxFileName = \"/Users/waizinlinn/Desktop/Spring/React/HW/hw6/hw6-waizin28/src/components/content/BadgerMessage.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useContext } from \"react\";\nimport privateIdContext from \"../../contexts/privateIdContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BadgerMessage(props) {\n  _s();\n  const dt = new Date(props.created);\n  const {\n    privateId,\n    setPrivateId\n  } = useContext(privateIdContext);\n  const deletePost = () => {\n    fetch(`https://cs571.org/s23/hw6/api/chatroom/${props.name}/messages/${props.id}`, {\n      headers: {\n        \"X-CS571-ID\": \"bid_d5f87cfbd68cea89ba78\",\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"DELETE\",\n      credentials: \"include\"\n    }).then(res => {\n      if (res.status === 200) {\n        alert(\"Successfully deleted the post!\");\n      }\n      return res.json();\n    }).then(data => {\n      setPrivateId(privateId.filter(pID => pID !== props.id));\n      props.loadMessages();\n    });\n  };\n  console.log(\"userName from message \" + props.userName.replace(/\"/g, \"\"));\n  console.log(\"userName props \" + props.poster);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"sub\", {\n      children: [\"Posted on \", dt.toLocaleDateString(), \" at \", dt.toLocaleTimeString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n      children: props.poster\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), props.userName === props.poster ? /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"danger\",\n      type: \"submit\",\n      onClick: deletePost,\n      children: \"Delete Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true);\n}\n_s(BadgerMessage, \"FM8z73c35h03wuY2dnAuvzrkXJU=\");\n_c = BadgerMessage;\nexport default BadgerMessage;\nvar _c;\n$RefreshReg$(_c, \"BadgerMessage\");","map":{"version":3,"names":["React","Button","useContext","privateIdContext","jsxDEV","_jsxDEV","Fragment","_Fragment","BadgerMessage","props","_s","dt","Date","created","privateId","setPrivateId","deletePost","fetch","name","id","headers","method","credentials","then","res","status","alert","json","data","filter","pID","loadMessages","console","log","userName","replace","poster","children","title","fileName","_jsxFileName","lineNumber","columnNumber","toLocaleDateString","toLocaleTimeString","content","variant","type","onClick","_c","$RefreshReg$"],"sources":["/Users/waizinlinn/Desktop/Spring/React/HW/hw6/hw6-waizin28/src/components/content/BadgerMessage.js"],"sourcesContent":["import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useContext } from \"react\";\nimport privateIdContext from \"../../contexts/privateIdContext\";\n\nfunction BadgerMessage(props) {\n  const dt = new Date(props.created);\n  const { privateId, setPrivateId } = useContext(privateIdContext);\n\n  const deletePost = () => {\n    fetch(\n      `https://cs571.org/s23/hw6/api/chatroom/${props.name}/messages/${props.id}`,\n      {\n        headers: {\n          \"X-CS571-ID\": \"bid_d5f87cfbd68cea89ba78\",\n          \"Content-Type\": \"application/json\",\n        },\n        method: \"DELETE\",\n        credentials: \"include\",\n      }\n    )\n      .then((res) => {\n        if (res.status === 200) {\n          alert(\"Successfully deleted the post!\");\n        }\n        return res.json();\n      })\n      .then((data) => {\n        setPrivateId(privateId.filter((pID) => pID !== props.id));\n        props.loadMessages();\n      });\n  };\n\n  console.log(\"userName from message \" + props.userName.replace(/\"/g, \"\"));\n  console.log(\"userName props \" + props.poster);\n\n  return (\n    <>\n      <h2>{props.title}</h2>\n      <sub>\n        Posted on {dt.toLocaleDateString()} at {dt.toLocaleTimeString()}\n      </sub>\n      <br />\n      <br />\n      <i>{props.poster}</i>\n      <p>{props.content}</p>\n      {props.userName === props.poster ? (\n        <Button variant=\"danger\" type=\"submit\" onClick={deletePost}>\n          Delete Post\n        </Button>\n      ) : null}\n    </>\n  );\n}\n\nexport default BadgerMessage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}